(this["webpackJsonp@quantumblack/kedro-viz"]=this["webpackJsonp@quantumblack/kedro-viz"]||[]).push([[0],{198:function(e,t,n){e.exports=n.p+"static/media/brodyquest.6259cc84.mp3"},199:function(e,t,n){e.exports=n.p+"static/media/easter-egg.e702bd5f.png"},202:function(e,t,n){e.exports=n(472)},375:function(e,t,n){},376:function(e,t,n){},425:function(e,t,n){},450:function(e,t,n){},451:function(e,t,n){},452:function(e,t,n){},458:function(e,t,n){},459:function(e,t,n){},461:function(e,t,n){},462:function(e,t,n){},470:function(e,t){},471:function(e,t,n){},472:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(189),o=n.n(i),l=(n(33),n(27)),s=n(28),c=n(49),u=n(43),d=n(48),f=n(6),g=n(44),p=n(8),m="TOGGLE_NODE_CLICKED";function h(e){return{type:m,nodeClicked:e}}var y="TOGGLE_NODES_DISABLED";function v(e,t){return{type:y,nodeIDs:e,isDisabled:t}}var b="TOGGLE_NODE_HOVERED";function _(e){return{type:b,nodeHovered:e}}var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=function(t){return Object.assign({},e,t)};switch(t.type){case m:return n({clicked:t.nodeClicked});case y:return n({clicked:t.nodeIDs.includes(e.clicked)?null:e.clicked,disabled:t.nodeIDs.reduce((function(e,n){return Object.assign({},e,Object(p.a)({},n,t.isDisabled))}),e.disabled)});case b:return n({hovered:t.nodeHovered});default:return e}},k="TOGGLE_TAG_ACTIVE";var x="TOGGLE_TAG_FILTER";var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=function(t){return Object.assign({},e,t)};switch(t.type){case k:return n({active:Object.assign({},e.active,Object(p.a)({},t.tagID,t.active))});case x:return n({enabled:Object.assign({},e.enabled,Object(p.a)({},t.tagID,t.enabled))});default:return e}},O="TOGGLE_TYPE_DISABLED";var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object.assign({},e,{disabled:Object.assign({},e.disabled,Object(p.a)({},t.typeID,t.disabled))});default:return e}},S="RESET_DATA";function j(e){return{type:S,data:e}}var T="TOGGLE_LAYERS";var M="TOGGLE_EXPORT_MODAL";function L(e){return{type:M,visible:e}}var R="TOGGLE_TEXT_LABELS";var C="TOGGLE_SIDEBAR";var D="TOGGLE_THEME";var I="UPDATE_CHART_SIZE";var z="UPDATE_FONT_LOADED";var A="CHANGE_FLAG";var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object.assign({},e,{exportModal:t.visible});case T:return Object.assign({},e,{layers:t.visible});case C:return Object.assign({},e,{sidebar:t.visible});default:return e}};var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object.assign({},e,Object(p.a)({},t.name,t.value));default:return e}},G=function(e,t,n){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,r=arguments.length>1?arguments[1]:void 0;return r.type===e?r[t]:a}};var F=Object(g.b)({node:w,nodeType:N,tag:E,visible:B,flags:P,edge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e},layer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},chartSize:G(I,"chartSize",{}),fontLoaded:G(z,"fontLoaded",!1),textLabels:G(R,"textLabels",!0),theme:G(D,"theme","dark")}),H=function(e,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===S?Object.assign({},e,t.data):e}(F(e,t),t)},U="./api/nodes.json",V=400,W=60,q={newgraph:{description:"Improved graphing algorithm",default:!1,icon:"\ud83d\udcc8"}},X="undefined"===typeof window,K=function(){if(X)return{};try{var e=window.localStorage.getItem("KedroViz");return null===e?{}:JSON.parse(e)}catch(t){return console.error(t),{}}},Y=function(e){if(!X)try{var t=Object.assign(K(),e),n=JSON.stringify(t);window.localStorage.setItem("KedroViz",n)}catch(a){console.error(a)}};var J=function(){return new Promise((function(e){var t=document.fonts,n="10px Titillium Web";if(Boolean(t&&t.check)){var a=function(){t.check(n)&&setTimeout(e,100)};t.check(n)?e():(t.ready&&t.ready.then(a),t.onloadingdone=a,requestAnimationFrame((function a(){performance.now()>8e3?e():t.check(n)?setTimeout(e,100):requestAnimationFrame(a)})))}else e()}))},Z=n(3),Q=n.n(Z),$=n(4),ee=(n(45),n(1)),te=n(119),ne=n(2),ae=function(e,t){var n={};return e.forEach((function(e){n[e]=t(e)})),n},re=function(e,t,n){return n.indexOf(e)===t},ie=function(e){return e.tag.ids},oe=function(e){return e.tag.enabled},le=Object(ne.a)([ie,function(e){return e.tag.name},function(e){return e.tag.active},oe],(function(e,t,n,a){return e.sort().map((function(e){return{id:e,name:t[e],active:Boolean(n[e]),enabled:Boolean(a[e])}}))})),se=Object(ne.a)([ie,oe],(function(e,t){return{total:e.length,enabled:e.filter((function(e){return t[e]})).length}})),ce=function(e){return e.node.ids},ue=Object(ne.a)([ce,function(e){return e.tag.enabled},se,function(e){return e.node.tags}],(function(e,t,n,a){return ae(e,(function(e){return 0!==n.enabled&&(!a[e].length||!a[e].some((function(e){return t[e]})))}))})),de=Object(ne.a)([ce,function(e){return e.node.disabled},ue,function(e){return e.node.type},function(e){return e.nodeType.disabled}],(function(e,t,n,a,r){return ae(e,(function(e){return Boolean(t[e]||n[e]||r[a[e]])}))})),fe=Object(ne.a)([ce,de],(function(e,t){return e.filter((function(e){return!t[e]}))})),ge=Object(ne.a)([fe,function(e){return e.node.layer},function(e){return e.layer.ids}],(function(e,t,n){var a={},r=!0,i=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var c=l.value;a[t[c]]=!0}}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n.filter((function(e){return a[e]}))})),pe=Object(ne.a)([function(e){return e.edge.ids},de,function(e){return e.edge.sources},function(e){return e.edge.targets}],(function(e,t,n,a){return ae(e,(function(e){var r=n[e],i=a[e];return Boolean(t[r]||t[i])}))})),me=n(78),he=n.n(me),ye=function(e){return e.edge.ids},ve=function(e){return e.edge.sources},be=function(e){return e.edge.targets},_e=Object(ne.a)([function(e){return e.node.ids},ye,de,ve,be],(function(e,t,n,a,r){var i={edgeIDs:[],sources:{},targets:{}};return e.some((function(e){return n[e]}))&&e.forEach((function(e){n[e]||function e(o){t.forEach((function(t){var l=o[o.length-1];if(a[t]===l){var s=r[t];n[s]?e(o.concat(s)):o.length>1&&function(e,t,n){var a=n.edgeIDs,r=n.sources,i=n.targets,o=[e,t].join("|");a.includes(o)||(a.push(o),r[o]=e,i[o]=t)}(o[0],s,i)}}))}([e])})),i})),we=Object(ne.a)([ye,pe,ve,be,_e],(function(e,t,n,a,r){return e.filter((function(e){return!t[e]})).concat(r.edgeIDs).map((function(e){return{id:e,source:n[e]||r.sources[e],target:a[e]||r.targets[e]}}))})),ke=Object(ne.a)([fe,ge,function(e){return e.node.layer}],(function(e,t,n){var a={},r=!0,i=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var c=l.value,u=n[c];a[u]||(a[u]=[]),a[u].push(c)}}catch(d){i=!0,o=d}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return t.map((function(e){return a[e]}))})),xe=Object(ne.a)([fe,we,ke,function(e){return e.visible.layers}],(function(e,t,n,a){if(!a)return{};var r={},i=!0,o=!1,l=void 0;try{for(var s,c=e[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){r[s.value]=[]}}catch(A){o=!0,l=A}finally{try{i||null==c.return||c.return()}finally{if(o)throw l}}var u=!0,d=!1,f=void 0;try{for(var g,p=t[Symbol.iterator]();!(u=(g=p.next()).done);u=!0){var m=g.value;r[m.source].push(m.target)}}catch(A){d=!0,f=A}finally{try{u||null==p.return||p.return()}finally{if(d)throw f}}for(var h=1;h<n.length;h++){var y=!0,v=!1,b=void 0;try{for(var _,w=n[h-1][Symbol.iterator]();!(y=(_=w.next()).done);y=!0){var k=_.value,x=!0,E=!1,O=void 0;try{for(var N,S=n[h][Symbol.iterator]();!(x=(N=S.next()).done);x=!0){var j=N.value;r[k].push(j)}}catch(A){E=!0,O=A}finally{try{x||null==S.return||S.return()}finally{if(E)throw O}}}}catch(A){v=!0,b=A}finally{try{y||null==w.return||w.return()}finally{if(v)throw b}}}for(var T=he()(r),M={},L=0;L<T.length;L++){var R=!0,C=!1,D=void 0;try{for(var I,z=T[L][Symbol.iterator]();!(R=(I=z.next()).done);R=!0){M[I.value]=L}}catch(A){C=!0,D=A}finally{try{R||null==z.return||z.return()}finally{if(C)throw D}}}return M})),Ee=function(e){return e.node.ids},Oe=function(e){return e.node.name},Ne=function(e){return e.node.type},Se=function(e){return e.fontLoaded},je=Object(ne.a)([Ee,function(e){return e.node.hovered},function(e){return e.node.tags},function(e){return e.tag.active}],(function(e,t,n,a){return ae(e,(function(e){if(e===t)return!0;var r=n[e].some((function(e){return a[e]}));return Boolean(r)}))})),Te=Object(ne.a)([Ee,function(e){return e.node.clicked},de],(function(e,t,n){return ae(e,(function(e){return e===t&&!n[e]}))})),Me=Object(ne.a)([Ee,Oe,Ne,de,function(e){return e.node.disabled},ue,function(e){return e.nodeType.disabled}],(function(e,t,n,a,r,i,o){return e.sort((function(e,n){return t[e]<t[n]?-1:t[e]>t[n]?1:0})).map((function(e){return{id:e,name:t[e],type:n[e],disabled:a[e],disabled_node:Boolean(r[e]),disabled_tag:i[e],disabled_type:Boolean(o[n[e]])}}))})),Le=Object(ne.a)([Me],(function(e){return e.reduce((function(e,t){var n=t.type;return e.hasOwnProperty(n)||(e[n]=[]),e[n].push(t),e}),{})})),Re=Object(ne.a)([Ee,Oe,Se],(function(e,t,n){if(!n)return{};var a={},r=Object(ee.f)(document.body).append("svg").attr("class","kedro pipeline-node");return r.selectAll("text").data(e).enter().append("text").text((function(e){return t[e]})).each((function(e){var t=this.getBBox?this.getBBox().width:0;a[e]=t})),r.remove(),a})),Ce=Object(ne.a)([Ee,Re,function(e){return e.textLabels},Ne,Se],(function(e,t,n,a,r){return r?ae(e,(function(e){var r,i,o=n?24:28,l=(r=n,i="task"===a[e],r?i?{x:16,y:10}:{x:20,y:10}:i?{x:14,y:14}:{x:16,y:16}),s=n?t[e]:0,c=o+s+(n?6:0);return{width:c+2*l.x,height:o+2*l.y,textOffset:(c-s)/2,iconOffset:-c/2,iconSize:o}})):{}})),De=Object(ne.a)([fe,Oe,Ne,function(e){return e.node.fullName},Ce,function(e){return e.node.layer},xe,Se],(function(e,t,n,a,r,i,o,l){return l?e.map((function(e){return Object($.a)({id:e,name:t[e],label:t[e],fullName:a[e],type:n[e],layer:i[e],rank:o[e]},r[e])})):[]})),Ie=n(117),ze=n.n(Ie),Ae=.5*Math.PI,Be=function(e,t){return Math.round(e/t)*t},Pe=function(e,t){return Math.abs(e-t)},Ge=function(e,t){return Math.atan2(e.y-t.y,e.x-t.x)},Fe=function(e){return e.x-.5*e.width},He=function(e){return e.x+.5*e.width},Ue=function(e){return e.y-.5*e.height},Ve=function(e){return e.y+.5*e.height},We=function(e){var t={},n=!0,a=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value;t[l.y]=t[l.y]||[],t[l.y].push(l)}}catch(h){a=!0,r=h}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}var s=Object.keys(t).map((function(e){return parseFloat(e)}));s.sort((function(e,t){return e-t}));for(var c=s.map((function(e){return t[e]})),u=0;u<c.length;u+=1){c[u].sort((function(e,t){return qe(e.x,t.x,e.id,t.id)}));var d=!0,f=!1,g=void 0;try{for(var p,m=c[u][Symbol.iterator]();!(d=(p=m.next()).done);d=!0){p.value.row=u}}catch(h){f=!0,g=h}finally{try{d||null==m.return||m.return()}finally{if(f)throw g}}}return c},qe=function e(t,n){for(var a="string"===typeof t?t.localeCompare(n):t-n,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return 0!==a||0===i.length?a:e.apply(void 0,i)},Xe=function(e,t){return e.x=e.x-t.x,e.y=e.y-t.y,e},Ke=function(e,t){return e.points.forEach((function(e){e.x=e.x-t.x,e.y=e.y-t.y})),e},Ye=function(e,t,n,a,r,i){var o,l,s,c=r-n,u=i-a,d=(s=1,(o=((e-n)*c+(t-a)*u)/(c*c+u*u||1))<(l=0)?l:o>s?s:o);return{x:n+c*d,y:a+u*d,ax:n,ay:a,bx:r,by:i}},Je=n(32),Ze=n(23),Qe=function(e,t){if("undefined"===typeof e.id)throw new Error("Object is missing property 'id' required for key.");return e.id+"_"+t},$e=function(e,t){return e-t},et=function(e,t){return e===t},tt=function(e,t){return e>=t},nt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?rt(e):at(e,t)},at=function(e,t){for(var n=0;n<t;n+=1){var a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var s=o.value,c=(s.delta||$e)(s.a[s.key],s.b[s.key],s),u=(s.distance||Pe)(s.a[s.key],s.b[s.key],s),d=s.target(s.a[s.key],s.b[s.key],s,c,u);if(!(s.operator||et)(u,d,c)){var f=(s.strength?s.strength(s):1)*(c-d),g=s.weightA?s.weightA(s):1,p=s.weightB?s.weightB(s):1;p=1-(g/=g+p),s.a[s.key]-=g*f,s.b[s.key]+=p*f}}}catch(m){r=!0,i=m}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}}},rt=function(e){var t=new Ze.c,n={},a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var s=o.value;n[Qe(s.a,s.key)]=new Ze.e,n[Qe(s.b,s.key)]=new Ze.e}}catch(x){r=!0,i=x}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}var c,u=!0,d=!1,f=void 0;try{for(var g,p=e[Symbol.iterator]();!(u=(g=p.next()).done);u=!0){var m=g.value,h=n[Qe(m.a,m.key)].minus(n[Qe(m.b,m.key)]);m.constraint=new Ze.a(h,(c=m.operator||et)===et?Ze.b.Eq:c===tt?Ze.b.Ge:void 0,m.target(),!0===m.required?Ze.d.required:Ze.d.strong),t.addConstraint(m.constraint)}}catch(x){d=!0,f=x}finally{try{u||null==p.return||p.return()}finally{if(d)throw f}}t.updateVariables();var y=!0,v=!1,b=void 0;try{for(var _,w=e[Symbol.iterator]();!(y=(_=w.next()).done);y=!0){var k=_.value;k.a[k.key]=n[Qe(k.a,k.key)].value(),k.b[k.key]=n[Qe(k.b,k.key)].value()}}catch(x){v=!0,b=x}finally{try{y||null==w.return||w.return()}finally{if(v)throw b}}},it=function(e){var t=e.nodes,n=e.edges,a=e.layers,r=e.basisX,i=e.spaceX,o=e.spaceY,l=e.layerSpaceY,s=e.iterations,c=[],u=[],d=[],f=[],g=[],p=[],m=[],h=!0,y=!1,v=void 0;try{for(var b,_=t[Symbol.iterator]();!(h=(b=_.next()).done);h=!0){var w=b.value;w.x=0,w.y=0}}catch(X){y=!0,v=X}finally{try{h||null==_.return||_.return()}finally{if(y)throw v}}var k=n.map((function(e){return{a:e.targetNode,b:e.sourceNode,key:"y",operator:tt,target:function(){return o},weightA:function(){return 0},weightB:function(){return 1},required:!0}}));a&&function(){for(var e=Object.values(a),n=.5*(o+l),r=t.filter((function(t){return t.nearestLayer===e[0]})),i=function(a){var i=e[a],o=e[a+1],l=t.filter((function(e){return e.nearestLayer===o})),s={id:i,x:0,y:0},u=!0,d=!1,f=void 0;try{for(var g,p=r[Symbol.iterator]();!(u=(g=p.next()).done);u=!0){var m=g.value;c.push({a:s,b:m,key:"y",operator:tt,target:function(){return n},weightA:function(){return 0},weightB:function(){return 1}})}}catch(X){d=!0,f=X}finally{try{u||null==p.return||p.return()}finally{if(d)throw f}}var h=!0,y=!1,v=void 0;try{for(var b,_=l[Symbol.iterator]();!(h=(b=_.next()).done);h=!0){var w=b.value;c.push({a:w,b:s,key:"y",operator:tt,target:function(){return n},weightA:function(){return 0},weightB:function(){return 1}})}}catch(X){y=!0,v=X}finally{try{h||null==_.return||_.return()}finally{if(y)throw v}}r=l},s=0;s<e.length-1;s+=1)i(s)}(),nt([].concat(Object(Je.a)(k),c),1,!0);for(var x=We(t),E={basisX:r,key:"x",operator:function(e,t,n){return t>=0?n>=t:n<=t},target:function(e,t,n){return n.edgeA.sourceNode.x-n.edgeB.sourceNode.x+(n.edgeA.targetNode.x-n.edgeB.targetNode.x)<0?-n.basisX:n.basisX},strength:function(e){return 1/e.basisX},weightA:function(){return.5},weightB:function(){return.5}},O=0;O<n.length;O+=1)for(var N=n[O],S=O+1;S<n.length;S+=1){var j=n[S];N.source!==j.source&&u.push(Object($.a)({},E,{a:N.sourceNode,b:j.sourceNode,edgeA:N,edgeB:j})),N.target!==j.target&&u.push(Object($.a)({},E,{a:N.targetNode,b:j.targetNode,edgeA:N,edgeB:j}))}var T=!0,M=!1,L=void 0;try{for(var R,C=n[Symbol.iterator]();!(T=(R=C.next()).done);T=!0){var D=R.value,I={a:D.sourceNode,b:D.targetNode,key:"x",operator:et,target:function(){return 0},strength:function(e){return 1/Math.max(1,.5*(e.a.targets.length+e.b.sources.length))},weightA:function(){return.5},weightB:function(){return.5}};d.push(I);var z=1===D.sourceNode.targets.length,A=1===D.targetNode.sources.length;(z||A)&&f.push(I),z&&A&&g.push(I)}}catch(X){M=!0,L=X}finally{try{T||null==C.return||C.return()}finally{if(M)throw L}}for(var B=Math.ceil(.5*s),P=0;P<s;P+=1){nt(u,1),nt(d,1),nt(f,B),nt(g,B),p.length=0;for(var G=0;G<x.length;G+=1){var F=x[G];F.sort((function(e,t){return qe(e.x,t.x,e.id,t.id)}));for(var H=0;H<F.length-1;H+=1)p.push({a:F[H],b:F[H+1],key:"x",operator:function(e,t,n){return n<=t},target:function(e,t,n){return-i-.5*n.a.width-.5*n.b.width},strength:function(){return 1},weightA:function(){return.5},weightB:function(){return.5}})}nt(p,B)}for(var U=0;U<x.length;U+=1)for(var V=x[U],W=function(e){var t=.8*(V[e+1].x-V[e].x),n=.5*V[e].width+i+.5*V[e+1].width,a=Math.max(Be(t,i),n);m.push({a:V[e+1],b:V[e],key:"x",operator:tt,target:function(){return a},weightA:function(){return 0},weightB:function(){return 1},required:!0})},q=0;q<V.length-1;q+=1)W(q);nt([].concat(m,d),1,!0),ot(n,x,o)},ot=function(e,t,n){for(var a=lt(e),r=0,i=0;i<a.length;i+=1){var o=a[i];r+=Be(o*n,Math.round(.25*n));var l=!0,s=!1,c=void 0;try{for(var u,d=t[i+1][Symbol.iterator]();!(l=(u=d.next()).done);l=!0){u.value.y+=r}}catch(f){s=!0,c=f}finally{try{l||null==d.return||d.return()}finally{if(s)throw c}}}},lt=function(e){var t={},n=!0,a=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value,s=Math.abs(Ge(l.targetNode,l.sourceNode)-Ae)/Ae,c=l.sourceNode.row,u=l.targetNode.row-1;t[c]=t[c]||[0,0],t[c][0]+=s,t[c][1]+=1,u!==c&&(t[u]=t[u]||[0,0],t[u][0]+=s,t[u][1]+=1)}}catch(f){a=!0,r=f}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}for(var d in t)t[d]=t[d][0]/(t[d][1]||1);return Object.values(t)},st=function(e){var t=e.nodes,n=e.edges,a=e.spaceX,r=e.spaceY,i=e.minPassageGap,o=e.stemUnit,l=e.stemMinSource,s=e.stemMinTarget,c=e.stemMax,u=e.stemSpaceSource,d=e.stemSpaceTarget,f=We(t),g=!0,p=!1,m=void 0;try{for(var h,y=t[Symbol.iterator]();!(g=(h=y.next()).done);g=!0){h.value.targets.sort((function(e,t){return qe(Ge(t.sourceNode,t.targetNode),Ge(e.sourceNode,e.targetNode))}))}}catch(_e){p=!0,m=_e}finally{try{g||null==y.return||y.return()}finally{if(p)throw m}}var v=!0,b=!1,_=void 0;try{for(var w,k=n[Symbol.iterator]();!(v=(w=k.next()).done);v=!0){var x=w.value,E=x.sourceNode,O=x.targetNode;x.points=[];for(var N=Math.min((E.width-u)/E.targets.length,u)*(E.targets.indexOf(x)-.5*(E.targets.length-1)),S={x:E.x+N,y:E.y},j=E.row+1;j<O.row;j+=1){for(var T=f[j][0],M={x:Fe(T)-a,y:T.y},L=1/0,R=[Object($.a)({},T,{x:Number.MIN_SAFE_INTEGER})].concat(Object(Je.a)(f[j]),[Object($.a)({},T,{x:Number.MAX_SAFE_INTEGER})]),C=0;C<R.length-1;C+=1){var D=R[C],I=R[C+1],z=Fe(I)-He(D);if(!(z<i)){var A=Math.min(a,.5*z),B=Ye(S.x,S.y,He(D)+A,Ue(D)-r,Fe(I)-A,Ue(I)-r),P=Pe(S.x,B.x);if(P>L)break;P<L&&(L=P,M=B)}}var G=T.height+r;x.points.push({x:M.x+N,y:M.y}),x.points.push({x:M.x+N,y:M.y+G}),S={x:M.x,y:M.y+G}}}}catch(_e){b=!0,_=_e}finally{try{v||null==k.return||k.return()}finally{if(b)throw _}}var F=!0,H=!1,U=void 0;try{for(var V,W=t[Symbol.iterator]();!(F=(V=W.next()).done);F=!0){var q=V.value;q.targets.sort((function(e,t){return qe(Ge(t.sourceNode,t.points[0]||t.targetNode),Ge(e.sourceNode,e.points[0]||e.targetNode))})),q.sources.sort((function(e,t){return qe(Ge(e.points[e.points.length-1]||e.sourceNode,e.targetNode),Ge(t.points[t.points.length-1]||t.sourceNode,t.targetNode))}))}}catch(_e){H=!0,U=_e}finally{try{F||null==W.return||W.return()}finally{if(H)throw U}}var X=!0,K=!1,Y=void 0;try{for(var J,Z=n[Symbol.iterator]();!(X=(J=Z.next()).done);X=!0){var Q=J.value,ee=Q.sourceNode,te=Q.targetNode,ne=Math.min((ee.width-u)/ee.targets.length,u),ae=Math.min((te.width-d)/te.sources.length,d),re=ee.targets.indexOf(Q)-.5*(ee.targets.length-1),ie=te.sources.indexOf(Q)-.5*(te.sources.length-1),oe=ne*re,le=ae*ie,se=o*ee.targets.length*(1-Math.abs(re)/ee.targets.length),ce=o*te.sources.length*(1-Math.abs(ie)/te.sources.length),ue=[{x:ee.x+oe,y:Ve(ee)},{x:ee.x+oe,y:Ve(ee)+l},{x:ee.x+oe,y:Ve(ee)+l+Math.min(se,c)}],de=[{x:te.x+le,y:Ue(te)-s-Math.min(ce,c)},{x:te.x+le,y:Ue(te)-s},{x:te.x+le,y:Ue(te)}],fe=[].concat(ue,Object(Je.a)(Q.points),de),ge=fe[0].y,pe=!0,me=!1,he=void 0;try{for(var ye,ve=fe[Symbol.iterator]();!(pe=(ye=ve.next()).done);pe=!0){var be=ye.value;be.y<ge?be.y=ge:ge=be.y}}catch(_e){me=!0,he=_e}finally{try{pe||null==ve.return||ve.return()}finally{if(me)throw he}}Q.points=fe}}catch(_e){K=!0,Y=_e}finally{try{X||null==Z.return||Z.return()}finally{if(K)throw Y}}},ct={layout:{spaceX:16,spaceY:110,layerSpaceY:55,basisX:1500,padding:100,iterations:20},routing:{spaceX:26,spaceY:28,minPassageGap:40,stemUnit:8,stemMinSource:5,stemMinTarget:5,stemMax:20,stemSpaceSource:6,stemSpaceTarget:10}},ut=function(e,t){var n={},a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var s=o.value;n[s.id]=s,s.targets=[],s.sources=[]}}catch(m){r=!0,i=m}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}var c=!0,u=!1,d=void 0;try{for(var f,g=t[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var p=f.value;p.sourceNode=n[p.source],p.targetNode=n[p.target],p.sourceNode.targets.push(p),p.targetNode.sources.push(p)}}catch(m){u=!0,d=m}finally{try{c||null==g.return||g.return()}finally{if(u)throw d}}},dt=function(e,t){if(t&&t.length>0){var n=t.reduce((function(e,t){return Object($.a)({},e,Object(p.a)({},t,!0))}),{}),a=function(e){return Boolean(n[e.layer])},r=!0,i=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var c=l.value,u=ht(c,ft,mt,a);c.nearestLayer=u&&u.layer}}catch(d){i=!0,o=d}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}},ft=function(e){return gt(e).concat(pt(e))},gt=function(e){return e.targets.map((function(e){return e.targetNode}))},pt=function(e){return e.sources.map((function(e){return e.sourceNode}))},mt=function(e,t){return Math.abs(e.rank-t.rank)},ht=function e(t,n,a,r,i){if(r(t))return t;(i=i||{})[t.id]=!0;var o=n(t).filter((function(e){return!i[e.id]})).sort((function(e,n){return a(t,e)-a(t,n)}));return o.filter(r)[0]||o.map((function(t){return e(t,n,a,r,i)}))[0]},yt=function(e,t){var n={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var s=o.value,c=s.x,u=s.y;c<n.min.x&&(n.min.x=c),c>n.max.x&&(n.max.x=c),u<n.min.y&&(n.min.y=u),u>n.max.y&&(n.max.y=u)}}catch(d){r=!0,i=d}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n.width=n.max.x-n.min.x+2*t,n.height=n.max.y-n.min.y+2*t,n.min.x-=t,n.min.y-=t,n},vt=Object(ne.a)([function(e){return e.flags}],(function(e){return Object($.a)({},e)})),bt=Object(ne.a)([De,we,ge,function(e){return e.visible.layers&&Boolean(e.layer.ids.length)},vt,function(e){return e.fontLoaded}],(function(e,t,n,a,r,i){if(i&&e.length&&t.length){if(r.newgraph){var o=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ct;ut(e,t),dt(e,n),it(Object($.a)({nodes:e,edges:t,layers:n},a.layout)),st(Object($.a)({nodes:e,edges:t,layers:n},a.routing));var r=yt(e,a.layout.padding);return e.forEach((function(e){return Xe(e,r.min)})),t.forEach((function(e){return Ke(e,r.min)})),{nodes:e,edges:t,layers:n,size:r}}(e,t,a&&n);return{graph:function(){return Object($.a)({},o.size,{marginx:100,marginy:100})},nodes:function(){return o.nodes.map((function(e){return e.id}))},edges:function(){return o.edges.map((function(e){return e.id}))},node:function(e){return o.nodes.find((function(t){return t.id===e}))},edge:function(e){return o.edges.find((function(t){return t.id===e}))},newgraph:!0}}return _t(e,t,a)}})),_t=function(e,t,n){var a=n?"none":null,r=(new ze.a.graphlib.Graph).setGraph({ranker:n?a:null,ranksep:n?200:70,marginx:40,marginy:40});return e.forEach((function(e){r.setNode(e.id,e)})),t.forEach((function(e){r.setEdge(e.source,e.target,e)})),ze.a.layout(r),r},wt=Object(ne.a)([bt,function(e){return e.node.type},function(e){return e.node.layer}],(function(e,t,n){return e?e.nodes().map((function(a){var r=e.node(a);return Object.assign({},r,{layer:n[a],type:t[a],order:r.x+9999*r.y})})):[]})),kt=Object(ne.a)([bt],(function(e){return e?e.edges().map((function(t){return Object.assign({},e.edge(t))})):[]})),xt=Object(ne.a)([bt],(function(e){return e?e.graph():{}})),Et=Object(ne.a)([function(e){return e.visible.sidebar},function(e){return e.chartSize}],(function(e,t){var n=t.left,a=t.top,r=t.width,i=t.height;if(!r||!i)return{};var o=function(e,t){return e&&t>700?V:W}(e,r);return{left:n,top:a,outerWidth:r,outerHeight:i,width:r-o,height:i,sidebarWidth:o}})),Ot=Object(ne.a)([xt,Et],(function(e,t){if(!t.width||!e.width)return{scale:1,translateX:0,translateY:0};var n=Math.min(t.width/e.width,t.height/e.height),a=t.width/2-e.width*n/2,r=t.height/2-e.height*n/2;return{scale:n,translateX:a+t.sidebarWidth,translateY:r}})),Nt=Object(ne.a)([wt,ge,function(e){return e.layer.name},xt],(function(e,t,n,a){var r=a.width;if(!e.length)return[];var i={},o=!0,l=!1,s=void 0;try{for(var c,u=e[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var d=c.value,f=d.nearestLayer||d.layer;if(f){var g=i[f]||(i[f]=[1/0,-1/0]);d.y-d.height<g[0]&&(g[0]=d.y-d.height),d.y+d.height>g[1]&&(g[1]=d.y+d.height)}}}catch(p){l=!0,s=p}finally{try{o||null==u.return||u.return()}finally{if(l)throw s}}return t.map((function(e,a){var o=i[e]||[0,0],l=i[t[a-1]]||[o[0],o[0]],s=i[t[a+1]]||[o[1],o[1]],c=(l[1]+o[0])/2,u=(o[1]+s[0])/2;return{id:e,name:n[e],x:-r/2,y:c,width:2*r,height:Math.max(u-c,0)}}))})),St=Object(ne.a)([function(e){return e.node.clicked},function(e){return e.node.hovered}],(function(e,t){return e||t})),jt=Object(ne.a)([function(e){return e.edge.ids},function(e){return e.edge.sources},function(e){return e.edge.targets},St],(function(e,t,n,a){if(!a)return{};var r=Object(p.a)({},a,!0),i=function(t,n){!function a(i){e.forEach((function(e){t[e]===i&&(r[n[e]]=!0,a(n[e]))}))}(a)},o=[t,n];return i.apply(null,o),i.apply(null,o.reverse()),r})),Tt=n(191),Mt=n(118),Lt={data:["M6 7.5C6 5.5 8.7 4 12 4c3.2 0 5.9 1.5 6 3.3V17c0 .2 0 .4-.2.6-1.1 1.6-3 2.3-5.8 2.3s-4.7-.7-5.8-2.3A1 1 0 016 17V7.5zm6 8c-1.6 0-3-.4-4-1v2.2c.7.8 2 1.2 4 1.2s3.3-.4 4-1.2v-2.2c-1 .6-2.4 1-4 1zm0-4.5c-1.5 0-3-.3-4-.9v1.6c.8 1.2 2 1.7 4 1.7s3.3-.5 4-1.7v-1.6c-1 .6-2.5.9-4 .9zm0-5c-1.3 0-2.4.3-3.2.8-.6.3-.8.6-.8.7s.2.4.8.7c.8.5 2 .8 3.2.8s2.4-.3 3.2-.8c.6-.3.8-.6.8-.7s-.2-.4-.8-.7c-.8-.5-2-.8-3.2-.8z"],task:["M19.46 4.3l.18.14-1.28 1.54c-2.06-1.71-3.52-1.1-4.55 2.52H16v2h-2.66c-.09.43-.17.89-.25 1.37l-.1.68c-1.2 8.23-4.11 11.46-8.41 8.34l-.19-.14 1.22-1.59c2.58 1.97 4.25.32 5.3-6.22l.1-.68.3-1.76H8v-2h3.78c1.48-5.36 4.12-7.04 7.68-4.2z"],parameters:["M8 14v1.5h13v2H8V19H6v-1.5H4v-2h2V14z","M18.5 5v1.5H21v2h-2.5V10h-2V8.5H4v-2h12.5V5z"]},Rt=function(e){var t=e.className,n=e.type;return r.a.createElement("svg",{className:t,viewBox:"0 0 24 24"},Lt[n].map((function(e){return r.a.createElement("path",{key:e,d:e})})))},Ct=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=Object(ee.f)(t).attr("class","pipeline-node__icon").attr("viewBox","0 0 24 24");return Lt[e.type].forEach((function(e){n.append("path").attr("d",e)})),t},Dt=function(){var e=this.props,t=e.layers,n=e.visibleLayers;this.el.layers=this.el.layerGroup.selectAll(".pipeline-layer").data(n?t:[],(function(e){return e.id}));var a=this.el.layers.enter().append("rect").attr("class","pipeline-layer");this.el.layers.exit().remove(),this.el.layers=this.el.layers.merge(a),this.el.layers.attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})).attr("height",(function(e){return e.height})).attr("width",(function(e){return e.width}))},It=function(){var e=this.props,t=e.chartSize.sidebarWidth,n=void 0===t?0:t,a=e.layers,r=e.visibleLayers;this.el.layerNameGroup.transition("layer-names-sidebar-width").duration(this.DURATION).style("transform","translateX(".concat(n,"px)")),this.el.layerNames=this.el.layerNameGroup.selectAll(".pipeline-layer-name").data(r?a:[],(function(e){return e.id}));var i=this.el.layerNames.enter().append("li").attr("class","pipeline-layer-name").style("opacity",0).transition("enter-layer-names").duration(this.DURATION).style("opacity",1);this.el.layerNames.exit().style("opacity",1).transition("exit-layer-names").duration(this.DURATION).style("opacity",0).remove(),this.el.layerNames=this.el.layerNames.merge(i),this.el.layerNames.text((function(e){return e.name})).attr("dy",5)},zt=function(){var e=this,t=this.props,n=t.centralNode,a=t.linkedNodes,r=t.nodeActive,i=t.nodeSelected,o=t.nodes,l=t.textLabels;this.el.nodes=this.el.nodeGroup.selectAll(".pipeline-node").data(o,(function(e){return e.id}));var s=this.el.nodes.enter().append("g").attr("tabindex","0").attr("class","pipeline-node");s.attr("transform",(function(e){return"translate(".concat(e.x,", ").concat(e.y,")")})).attr("opacity",0),s.append("rect"),s.append(Ct),s.append("text").text((function(e){return e.name})).attr("text-anchor","middle").attr("dy",5).attr("dx",(function(e){return e.textOffset})),this.el.nodes.exit().transition("exit-nodes").duration(this.DURATION).attr("opacity",0).remove(),this.el.nodes=this.el.nodes.merge(s).attr("data-id",(function(e){return e.id})).classed("pipeline-node--parameters",(function(e){return"parameters"===e.type})).classed("pipeline-node--data",(function(e){return"data"===e.type})).classed("pipeline-node--task",(function(e){return"task"===e.type})).classed("pipeline-node--icon",!l).classed("pipeline-node--text",l).classed("pipeline-node--active",(function(e){return r[e.id]})).classed("pipeline-node--selected",(function(e){return i[e.id]})).classed("pipeline-node--faded",(function(e){return n&&!a[e.id]})).on("click",this.handleNodeClick).on("mouseover",this.handleNodeMouseOver).on("mouseout",this.handleNodeMouseOut).on("focus",this.handleNodeMouseOver).on("blur",this.handleNodeMouseOut).on("keydown",this.handleNodeKeyDown),this.el.nodes.transition("update-nodes").duration(this.DURATION).attr("opacity",1).attr("transform",(function(e){return"translate(".concat(e.x,", ").concat(e.y,")")})).end().catch((function(){})).finally((function(){e.el.nodes.sort((function(e,t){return e.order-t.order}))})),this.el.nodes.select("rect").attr("width",(function(e){return e.width-5})).attr("height",(function(e){return e.height-5})).attr("x",(function(e){return(e.width-5)/-2})).attr("y",(function(e){return(e.height-5)/-2})).attr("rx",(function(e){return"task"===e.type?0:e.height/2})),this.el.nodes.select(".pipeline-node__icon").transition("node-icon-offset").duration(150).attr("width",(function(e){return e.iconSize})).attr("height",(function(e){return e.iconSize})).attr("x",(function(e){return e.iconOffset})).attr("y",(function(e){return e.iconSize/-2}))},At=function(){var e=this.props,t=e.edges,n=e.centralNode,a=e.linkedNodes;this.el.edges=this.el.edgeGroup.selectAll(".pipeline-edge").data(t,(function(e){return e.id}));var r=Object(Mt.b)().x((function(e){return e.x})).y((function(e){return e.y})).curve(Mt.a),i=this.el.edges.enter().append("g").attr("class","pipeline-edge").attr("opacity",0);i.append("path").attr("marker-end",(function(e){return"url(#pipeline-arrowhead)"})),this.el.edges.exit().transition("exit-edges").duration(this.DURATION).attr("opacity",0).remove(),this.el.edges=this.el.edges.merge(i),this.el.edges.attr("data-id",(function(e){return e.id})).classed("pipeline-edge--faded",(function(e){var t=e.source,r=e.target;return n&&(!a[t]||!a[r])})).transition("show-edges").duration(this.DURATION).attr("opacity",1),this.el.edges.select("path").transition("update-edges").duration(this.DURATION).attrTween("d",(function(e){var t=e.points&&r(e.points),n=Object(ee.f)(this).attr("d")||t;return Object(Tt.interpolatePath)(n,t)}))},Bt=function(){Dt.call(this),It.call(this),At.call(this),zt.call(this)},Pt=(n(375),String.fromCharCode(8203)),Gt=function(e){var t=e.chartSize,n=e.targetRect,a=e.visible,i=e.text,o=t.left,l=t.top,s=t.width,c=t.height,u=t.outerWidth,d=t.sidebarWidth,f=n.left-d>s/2,g=n.top<c/2,p=f?n.left-u:n.left,m=g?n.top+n.height:n.top,h=p-o+n.width/2,y=m-l;return r.a.createElement("div",{className:Q()("pipeline-tooltip",{"pipeline-tooltip--visible":a,"pipeline-tooltip--right":f,"pipeline-tooltip--top":g}),style:{transform:"translate(".concat(h,"px, ").concat(y,"px)")}},r.a.createElement("div",{className:"pipeline-tooltip__text"},function(e){return e.replace(/([^\w\s]|[_])/g,"".concat(Pt,"$1").concat(Pt))}(i)))};Gt.defaultProps={chartSize:{},targetRect:{},visible:!1,text:""};var Ft=Gt,Ht=(n(376),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleWindowResize=function(){n.updateChartSize()},n.handleBeforePrint=function(){var e=n.props.graphSize,t=e.width+2*e.marginx,a=e.height+2*e.marginy;n.el.svg.attr("viewBox","0 0 ".concat(t," ").concat(a))},n.handleAfterPrint=function(){n.el.svg.attr("viewBox",null)},n.handleNodeClick=function(e){n.props.onToggleNodeClicked(e.id),ee.b.stopPropagation()},n.handleChartClick=function(){n.props.onToggleNodeClicked(null)},n.handleNodeMouseOver=function(e){n.props.onToggleNodeHovered(e.id),n.showTooltip(e)},n.handleNodeMouseOut=function(){n.props.onToggleNodeHovered(null),n.hideTooltip()},n.handleNodeKeyDown=function(e){13===ee.b.keyCode&&n.handleNodeClick(e),27===ee.b.keyCode&&(n.handleChartClick(),n.handleNodeMouseOut(e))},n.state={tooltip:{}},n.DURATION=700,n.containerRef=r.a.createRef(),n.svgRef=r.a.createRef(),n.wrapperRef=r.a.createRef(),n.edgesRef=r.a.createRef(),n.nodesRef=r.a.createRef(),n.layersRef=r.a.createRef(),n.layerNamesRef=r.a.createRef(),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.selectD3Elements(),this.updateChartSize(),this.initZoomBehaviour(),this.drawChart(),this.zoomChart(),this.addGlobalEventListeners()}},{key:"componentWillUnmount",value:function(){this.removeGlobalEventListeners()}},{key:"componentDidUpdate",value:function(e){e.visibleSidebar!==this.props.visibleSidebar&&this.updateChartSize(),e.zoom!==this.props.zoom&&this.zoomChart(),this.drawChart()}},{key:"selectD3Elements",value:function(){this.el={svg:Object(ee.f)(this.svgRef.current),wrapper:Object(ee.f)(this.wrapperRef.current),edgeGroup:Object(ee.f)(this.edgesRef.current),nodeGroup:Object(ee.f)(this.nodesRef.current),layerGroup:Object(ee.f)(this.layersRef.current),layerNameGroup:Object(ee.f)(this.layerNamesRef.current)}}},{key:"updateChartSize",value:function(){this.props.onUpdateChartSize(this.containerRef.current.getBoundingClientRect())}},{key:"addGlobalEventListeners",value:function(){window.ResizeObserver?(this.resizeObserver=this.resizeObserver||new window.ResizeObserver(this.handleWindowResize),this.resizeObserver.observe(this.containerRef.current)):window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeprint",this.handleBeforePrint),window.addEventListener("afterprint",this.handleAfterPrint)}},{key:"removeGlobalEventListeners",value:function(){window.ResizeObserver?this.resizeObserver.unobserve(this.containerRef.current):window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeprint",this.handleBeforePrint),window.removeEventListener("afterprint",this.handleAfterPrint)}},{key:"initZoomBehaviour",value:function(){var e=this;this.zoomBehaviour=Object(te.a)().on("zoom",(function(){var t=ee.b.transform,n=t.k,a=t.y,r=e.props.chartSize.sidebarWidth,i=e.props.graphSize,o=i.width,l=i.height;e.zoomBehaviour.translateExtent([[-r/n-500,-500],[o+500,l+500]]),e.el.wrapper.attr("transform",ee.b.transform),e.el.layerNames&&e.el.layerNames.style("transform",(function(e){var t=a+(e.y+e.height/2)*n;return"translateY(".concat(t,"px)")})),e.hideTooltip()})),this.el.svg.call(this.zoomBehaviour)}},{key:"zoomChart",value:function(){var e=this.props.zoom,t=e.scale,n=void 0===t?1:t,a=e.translateX,r=void 0===a?0:a,i=e.translateY,o=void 0===i?0:i;this.zoomBehaviour.scaleExtent([.8*n,2]),this.el.svg.transition().duration(this.DURATION).call(this.zoomBehaviour.transform,te.b.translate(r,o).scale(n))}},{key:"drawChart",value:function(){Bt.call(this)}},{key:"showTooltip",value:function(e){this.setState({tooltip:{targetRect:ee.b.target.getBoundingClientRect(),text:e.fullName,visible:!0}})}},{key:"hideTooltip",value:function(){this.state.tooltip.visible&&this.setState({tooltip:Object($.a)({},this.state.tooltip,{visible:!1})})}},{key:"render",value:function(){var e=this.props,t=e.chartSize,n=e.visibleLayers,a=t.outerWidth,i=void 0===a?0:a,o=t.outerHeight,l=void 0===o?0:o;return r.a.createElement("div",{className:"pipeline-flowchart kedro",ref:this.containerRef,onClick:this.handleChartClick},r.a.createElement("svg",{id:"pipeline-graph",className:"pipeline-flowchart__graph",width:i,height:l,ref:this.svgRef},r.a.createElement("defs",null,r.a.createElement("marker",{id:"pipeline-arrowhead",className:"pipeline-flowchart__arrowhead",viewBox:"0 0 10 10",refX:"7",refY:"5",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"6",orient:"auto"},r.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 L 4 5 z"}))),r.a.createElement("g",{id:"zoom-wrapper",ref:this.wrapperRef},r.a.createElement("g",{className:"pipeline-flowchart__layers",ref:this.layersRef}),r.a.createElement("g",{className:"pipeline-flowchart__edges",ref:this.edgesRef}),r.a.createElement("g",{id:"nodes",className:"pipeline-flowchart__nodes",ref:this.nodesRef}))),r.a.createElement("ul",{className:Q()("pipeline-flowchart__layer-names",{"pipeline-flowchart__layer-names--visible":n}),ref:this.layerNamesRef}),r.a.createElement(Ft,Object.assign({chartSize:t},this.state.tooltip)))}}]),t}(a.Component)),Ut=Object(f.b)((function(e){return{centralNode:St(e),chartSize:Et(e),edges:kt(e),graphSize:xt(e),layers:Nt(e),linkedNodes:jt(e),nodes:wt(e),nodeActive:je(e),nodeSelected:Te(e),textLabels:e.textLabels,visibleLayers:e.visible.layers,visibleSidebar:e.visible.sidebar,zoom:Ot(e)}}),(function(e){return{onToggleNodeClicked:function(t){e(h(t))},onToggleNodeHovered:function(t){e(_(t))},onUpdateChartSize:function(t){e(function(e){return{type:I,chartSize:e}}(t))}}}))(Ht),Vt=n(192),Wt=n.n(Vt),qt=n(193),Xt=n.n(qt),Kt=(n(424),n(425),Object(f.b)((function(e){var t=le(e);return{tagCount:se(e),tags:t,theme:e.theme}}),(function(e){return{onToggleTagActive:function(t,n){e(function(e,t){return{type:k,tagID:e,active:t}}(t,n))},onToggleTagFilter:function(t,n){e(function(e,t){return{type:x,tagID:e,enabled:t}}(t,n))}}}))((function(e){var t=e.tagCount,n=e.onToggleTagActive,a=e.onToggleTagFilter,i=e.tags,o=e.theme;return r.a.createElement("div",{className:"pipeline-tags"},r.a.createElement(Xt.a,{theme:o,width:null,defaultText:"Tag filters (".concat(t.enabled,"/").concat(t.total,")")},r.a.createElement(r.a.Fragment,null,t.total>0?r.a.createElement("ul",{className:"pipeline-tags__tag-list"},i.map((function(e){return r.a.createElement("li",{key:"tag-".concat(e.id),title:e.name,className:"pipeline-tags__tag-list-item kui-menu-option",onMouseEnter:function(){return n(e.id,!0)},onMouseLeave:function(){return n(e.id,!1)}},r.a.createElement(Wt.a,{checked:e.enabled,label:r.a.createElement("span",null,e.name),name:e.id,onChange:function(t,n){var r=n.checked;return a(e.id,r)},theme:o}))}))):r.a.createElement("div",{className:"pipeline-tags__empty kui-menu-option"},"There are no tags used in this pipeline."))))}))),Yt=n(46),Jt=n(194),Zt=n(22),Qt=n.n(Zt),$t=Qt.a.escapeRegExp,en=Qt.a.getHighlightedText,tn=function(e){var t=function(t){return e[t].map((function(e){return e.id}))};return Object.keys(e).reduce((function(e,n){return e.concat(t(n))}),[])},nn=function(e,t){var n=function(e){return Object($.a)({highlightedLabel:en(e.name,t)},e)};return Object.keys(e).reduce((function(t,a){return Object($.a)({},t,Object(p.a)({},a,e[a].map(n)))}),{})},an=function(e,t){var n=function(n){return e[n].filter((function(e){return function(e,t){var n=t?new RegExp($t(t),"gi"):"";return Boolean(e.name.match(n))}(e,t)}))};return Object.keys(e).reduce((function(e,t){return Object($.a)({},e,Object(p.a)({},t,n(t)))}),{})},rn=Object(ne.a)([function(e){return e.nodes},function(e){return e.searchValue}],(function(e,t){var n=an(e,t);return{filteredNodes:nn(n,t),nodeIDs:tn(n)}})),on=n(195),ln=n.n(on),sn=Object(f.b)((function(e){return{theme:e.theme}}))((function(e){var t=e.onUpdateSearchValue,n=e.searchValue,a=e.theme;return r.a.createElement("div",{className:"pipeline-nodelist-search",onKeyDown:function(e){Qt.a.handleKeyEvent(e.keyCode,{escape:t.bind(void 0,"")})}},r.a.createElement(ln.a,{onChange:t,value:n,theme:a}))})),cn=function(e){var t=e.className;return r.a.createElement("svg",{className:t,viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M12 5.7c4.4 0 8 5 8 6s-3.6 6-8 6-8-5-8-6 3.6-6 8-6zm0 2a4 4 0 100 8 4 4 0 000-8zm0 2a2 2 0 110 4 2 2 0 010-4z"}))},un=function(e){var t=e.className;return r.a.createElement("svg",{className:t,viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M18.6 5.17l1.4 1.4-2.2 2.19C19.18 10.09 20 11.5 20 12c0 1.03-3.58 6-8 6a6.8 6.8 0 01-2.8-.64L6.56 20l-1.4-1.4L18.6 5.17zm-2.8 5.59l-1.92 1.93a2 2 0 01-1.2 1.19l-1.92 1.92a4 4 0 005.04-5.04zM12 6c.85 0 1.68.19 2.45.5l-1.6 1.59a4 4 0 00-4.76 4.76L5.94 15C4.74 13.75 4 12.48 4 12c0-1.06 3.58-6 8-6z"}))},dn=Object(f.b)(null,(function(e){return{onToggleNodesDisabled:function(t,n){e(v(t,n))}}}))((function(e){var t=e.onToggleNodesDisabled,n=e.nodeIDs;return r.a.createElement("div",{className:"kedro pipeline-nodelist__toggle"},r.a.createElement("h2",{className:"pipeline-nodelist__toggle__title"},"All Elements"),r.a.createElement("div",{className:"pipeline-nodelist__toggle__row"},r.a.createElement("button",{onClick:function(){return t(n,!1)},className:"pipeline-nodelist__toggle__button"},r.a.createElement(cn,{className:"pipeline-nodelist__toggle__icon"}),"Show all"),r.a.createElement("button",{onClick:function(){return t(n,!0)},className:"pipeline-nodelist__toggle__button"},r.a.createElement(un,{className:"pipeline-nodelist__toggle__icon"}),"Hide all")))})),fn=n(50),gn=function(e){return e.nodeType.ids},pn=Object(ne.a)([gn,function(e){return e.node.ids},function(e){return e.node.type},de],(function(e,t,n,a){return ae(e,(function(e){var r=t.filter((function(t){return n[t]===e})),i=r.filter((function(e){return!a[e]}));return{total:r.length,visible:i.length}}))})),mn=Object(ne.a)([gn,function(e){return e.nodeType.name},function(e){return e.nodeType.disabled},pn],(function(e,t,n,a){return e.map((function(e){return{id:e,name:t[e],disabled:Boolean(n[e]),nodeCount:a[e]}}))})),hn=function(e){var t=e.active,n=e.checked,a=e.children,i=e.disabled,o=e.id,l=e.label,s=e.name,c=e.onMouseEnter,u=e.onMouseLeave,d=e.onChange,f=e.onClick,g=e.selected,p=e.type,m=n?cn:un,h=Boolean(f&&!i&&n),y=i||!n;return r.a.createElement("div",{className:Q()("pipeline-nodelist__row kedro",{"pipeline-nodelist__row--visible":h,"pipeline-nodelist__row--active":t,"pipeline-nodelist__row--selected":g,"pipeline-nodelist__row--disabled":i}),onMouseEnter:h?c:null,onMouseLeave:h?u:null},r.a.createElement("button",{className:"pipeline-nodelist__row__text",onClick:f,onFocus:c,onBlur:u,disabled:!h,title:a?null:s},r.a.createElement(Rt,{className:Q()("pipeline-nodelist__row__type-icon pipeline-nodelist__row__icon",{"pipeline-nodelist__row__type-icon--faded":y,"pipeline-nodelist__row__type-icon--nested":!a}),type:p}),r.a.createElement("span",{className:Q()("pipeline-nodelist__row__label",{"pipeline-nodelist__row__label--faded":y}),dangerouslySetInnerHTML:{__html:l}})),a,r.a.createElement("label",{htmlFor:o,className:"pipeline-nodelist__row__visibility"},r.a.createElement("input",{id:o,className:"pipeline-nodelist__row__checkbox",type:"checkbox",checked:n,disabled:i,name:s,onChange:d}),r.a.createElement(m,{"aria-label":s,className:Q()("pipeline-nodelist__row__icon pipeline-nodelist__row__visibility-icon",{"pipeline-nodelist__row__visibility-icon--unchecked":!n})})))},yn=Object(f.b)(null,(function(e){return{onToggleTypeDisabled:function(t,n){e(function(e,t){return{type:O,typeID:e,disabled:t}}(t,n))}}}))((function(e){var t=e.children,n=e.collapsed,a=e.onToggleTypeDisabled,i=e.onToggleCollapsed,o=e.type;return r.a.createElement(fn.a,{flipId:o.id},r.a.createElement("li",null,r.a.createElement(fn.a,{inverseFlipId:o.id,scale:!0},r.a.createElement("div",null,r.a.createElement("h3",{className:"pipeline-nodelist__heading"},r.a.createElement(hn,{checked:!o.disabled,id:o.id,label:"".concat(o.name," <i>(").concat(o.nodeCount.visible,"/").concat(o.nodeCount.total,")</i>"),name:o.name,onChange:function(e){a(o.id,!e.target.checked)},type:o.id},r.a.createElement("button",{"aria-label":"".concat(n?"Show":"Hide"," ").concat(o.name.toLowerCase()),onClick:function(){return i(o.id)},className:Q()("pipeline-type-group-toggle",{"pipeline-type-group-toggle--alt":n})}))),r.a.createElement(fn.a,{flipId:"".concat(o.id,"-children"),onAppear:function(e){e.classList.add("pipeline-nodelist--fade-in"),e.onanimationend=function(){e.style.opacity=1,e.classList.remove("pipeline-nodelist--fade-in")}},onExit:function(e,t,n){e.style.opacity=0,e.classList.add("pipeline-nodelist--fade-out"),e.onanimationend=n},opacity:!0},n?null:t)))))})),vn=K(),bn=Object(f.b)((function(e){return{nodeActive:je(e),nodeSelected:Te(e),types:mn(e)}}),(function(e){return{onToggleNodeClicked:function(t){e(h(t))},onToggleNodeHovered:function(t){e(_(t))},onToggleNodesDisabled:function(t,n){e(v(t,n))}}}))((function(e){var t=e.onToggleNodeClicked,n=e.onToggleNodesDisabled,i=e.onToggleNodeHovered,o=e.nodes,l=e.nodeActive,s=e.nodeSelected,c=e.types,u=function(e){Qt.a.handleKeyEvent(e.keyCode,{escape:function(){return t(null)}})};Object(a.useEffect)((function(){return window.addEventListener("keydown",u),function(){return window.removeEventListener("keydown",u)}}));var d=Object(a.useState)(vn.groupsCollapsed||{}),f=Object(Yt.a)(d,2),g=f[0],m=f[1],h=function(e){var t=Object.assign({},g,Object(p.a)({},e,!g[e]));m(t),Y({groupsCollapsed:t})};return r.a.createElement(fn.b,{flipKey:g},r.a.createElement("ul",{className:"pipeline-nodelist"},c.map((function(e){return o[e.id]?r.a.createElement(yn,{key:e.id,onToggleCollapsed:h,type:e,collapsed:g[e.id]},r.a.createElement("ul",{className:"pipeline-nodelist pipeline-nodelist--nested"},o[e.id].map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(hn,{active:l[e.id],checked:!e.disabled_node,disabled:e.disabled_tag||e.disabled_type,id:e.id,label:e.highlightedLabel,name:e.name,onClick:function(){return n=e.id,void(s[n]?t(null):t(n));var n},onMouseEnter:function(){return i(e.id)},onMouseLeave:function(){return i(null)},onChange:function(t){n([e.id],!t.target.checked)},selected:s[e.id],type:e.type}))})))):null}))))})),_n=(n(450),Object(f.b)((function(e){return{nodes:Le(e)}}))((function(e){var t=e.nodes,n=Object(a.useState)(""),i=Object(Yt.a)(n,2),o=i[0],l=i[1],s=rn({nodes:t,searchValue:o}),c=s.filteredNodes,u=s.nodeIDs;return r.a.createElement(r.a.Fragment,null,r.a.createElement(sn,{onUpdateSearchValue:l,searchValue:o}),r.a.createElement(Jt.Scrollbars,{className:"pipeline-nodelist-scrollbars",style:{width:"auto"},autoHide:!0,hideTracksWhenNotNeeded:!0},r.a.createElement(dn,{nodeIDs:u}),r.a.createElement(bn,{nodes:c})))}))),wn={label:function(e){var t=e.className;return r.a.createElement("svg",{className:t,viewBox:"0 0 22 20"},r.a.createElement("path",{d:"M22 0v20H7.3L0 10 7.3 0H22zm-6.2 5h-3.6L10 15h2l.3-1.8h3.4L16 15H18L15.8 5zm-1.5 1.7l1 4.7h-2.6l1-4.7h.6z"}))},layers:function(e){var t=e.className;return r.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M9.97 0l10.09 5-5.04 2.5 5.04 2.5-5.04 2.5 5.04 2.5L10 20 0 15l5-2.5L0 10l5.02-2.5L0 5zM7.23 13.61L4.47 15 10 17.77 15.56 15l-2.79-1.38L10 15zm5.56-4.98L9.99 10 7.26 8.63l-2.77 1.38 3.56 1.77 1.96.95 2.1-1L15.57 10zm-2.82-6.4L4.47 5 10 7.77 15.56 5z"}))},menu:function(e){var t=e.className;return r.a.createElement("svg",{className:t,viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M15.3 3.3l1.4 1.4L9.4 12l7.3 7.3-1.4 1.4L6.6 12z"}))},theme:function(e){var t=e.className;return r.a.createElement("svg",{className:t,viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M10 0a10 10 0 1 1 0 20 10 10 0 0 1 0-20zm0 2v16a8 8 0 1 0 0-16z"}))},export:function(e){var t=e.className;return r.a.createElement("svg",{className:t,viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M5 16v4h14v-4h2v4c0 1-.8 2-1.9 2H5a2 2 0 01-2-2v-4h2zm8-14v11l3.5-3.5L18 11l-6 6-6-6 1.5-1.5L11 13V2h2z"}))}},kn=function(e){var t=e.ariaLabel,n=e.ariaLive,a=e.className,i=e.disabled,o=e.icon,l=e.labelText,s=e.onClick,c=e.visible,u=wn[o];return c?r.a.createElement("li",null,r.a.createElement("button",{"aria-label":t,"aria-live":n,className:Q()("pipeline-icon-toolbar__button",a),disabled:i,onClick:s},r.a.createElement("span",{className:"pipeline-icon-toolbar__label"},l),r.a.createElement(u,{className:"pipeline-icon"}))):null};kn.defaultProps={ariaLabel:null,ariaLive:null,disabled:!1,icon:"label",labelText:null,onClick:null,visible:!0};var xn=kn,En=(n(451),Object(f.b)((function(e){return{disableLayerBtn:!e.layer.ids.length,textLabels:e.textLabels,theme:e.theme,visible:e.visible}}),(function(e){return{onToggleExportModal:function(t){e(L(t))},onToggleLayers:function(t){var n;e((n=Boolean(t),{type:T,visible:n}))},onToggleSidebar:function(t){e(function(e){return{type:C,visible:e}}(t))},onToggleTextLabels:function(t){var n;e((n=Boolean(t),{type:R,textLabels:n}))},onToggleTheme:function(t){e({type:D,theme:t})}}}))((function(e){var t=e.disableLayerBtn,n=e.onToggleExportModal,a=e.onToggleLayers,i=e.onToggleSidebar,o=e.onToggleTextLabels,l=e.onToggleTheme,s=e.textLabels,c=e.theme,u=e.visible;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"pipeline-icon-toolbar kedro"},r.a.createElement(xn,{ariaLabel:"".concat(u.sidebar?"Hide":"Show"," menu"),className:Q()("pipeline-menu-button",{"pipeline-menu-button--inverse":!u.sidebar}),onClick:function(){return i(!u.sidebar)},icon:"menu",labelText:"".concat(u.sidebar?"Hide":"Show"," menu")}),r.a.createElement(xn,{ariaLive:"polite",ariaLabel:"Change to ".concat("light"===c?"dark":"light"," theme"),onClick:function(){return l("light"===c?"dark":"light")},icon:"theme",labelText:"Toggle theme",visible:u.themeBtn}),r.a.createElement(xn,{ariaLive:"polite",onClick:function(){return o(!s)},icon:"label",labelText:"".concat(s?"Hide":"Show"," text labels"),visible:u.labelBtn}),r.a.createElement(xn,{ariaLabel:"Export graph as SVG or PNG",onClick:function(){return n(!0)},icon:"export",labelText:"Export visualisation",visible:u.exportBtn}),r.a.createElement(xn,{ariaLabel:"Turn data layers ".concat(u.layers?"off":"on"),onClick:function(){return a(!u.layers)},icon:"layers",labelText:"".concat(u.layers?"Hide":"Show"," layers"),disabled:t,visible:u.layerBtn})))}))),On=(n(452),Object(f.b)((function(e){return{visible:e.visible.sidebar}}))((function(e){var t=e.visible;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Q()("pipeline-sidebar",{"pipeline-sidebar--visible":t})},r.a.createElement("div",{className:"pipeline-ui"},r.a.createElement(Kt,null),r.a.createElement(_n,null)),r.a.createElement(En,null)))}))),Nn=n(196),Sn=n.n(Nn),jn=n(79),Tn=n.n(jn),Mn="undefined"!==typeof window&&n(457),Ln=Mn.default,Rn=Mn.downloadPng,Cn=function(e){var t=e.format,n=e.theme,a=e.graphSize,r=e.mockFn||{png:Rn,svg:Ln}[t],i=document.querySelector("#pipeline-graph"),o=i.parentNode.appendChild(i.cloneNode(!0));o.classList.add("kedro","kui-theme--".concat(n),"pipeline-graph--export");var l=a.width+2*a.marginx,s=a.height+2*a.marginy;if(o.setAttribute("viewBox","0 0 ".concat(l," ").concat(s)),o.querySelector("#zoom-wrapper").removeAttribute("transform"),"png"===t){l=Math.min(l,5e3),s=Math.min(s,s/l*5e3)}o.setAttribute("width",l),o.setAttribute("height",s);var c=document.createElement("style");c.innerHTML="svg"===t?"@import url(https://fonts.googleapis.com/css?family=Titillium+Web:400);":'.kedro {\n      font-family: "Trebuchet MS", "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Tahoma, sans-serif;\n      letter-spacing: -0.4px;\n    }',o.prepend(c),r(o,"kedro-pipeline",{css:"internal"}),i.parentNode.removeChild(o)},Dn=(n(458),Object(f.b)((function(e){return{graphSize:xt(e),visible:e.visible,theme:e.theme}}),(function(e){return{onToggle:function(t){e(L(t))}}}))((function(e){var t=e.graphSize,n=e.theme,a=e.onToggle,i=e.visible;return i.exportBtn?r.a.createElement(Sn.a,{title:"Export pipeline visualisation",onClose:function(){return a(!1)},theme:n,visible:i.exportModal},r.a.createElement("div",{className:"pipeline-icon-modal"},r.a.createElement(Tn.a,{theme:n,onClick:function(){Cn({format:"png",theme:n,graphSize:t}),a(!1)}},"Download PNG"),r.a.createElement(Tn.a,{theme:n,onClick:function(){Cn({format:"svg",theme:n,graphSize:t}),a(!1)}},"Download SVG"))):null}))),In=(n(459),Object(f.b)((function(e){return{theme:e.theme}}))((function(e){var t=e.theme;return r.a.createElement("div",{className:Q()("kedro-pipeline",{"kui-theme--dark":"dark"===t,"kui-theme--light":"light"===t})},r.a.createElement(On,null),r.a.createElement("div",{className:"pipeline-wrapper"},r.a.createElement(Ut,null)),r.a.createElement(Dn,null))}))),zn=function(e){var t=Hn();return function(e){var t=Array.isArray;return e&&t(e.edges)&&t(e.nodes)&&t(e.tags)}(e)&&(e.schema_id&&(t.id=e.schema_id),e.nodes.forEach(function(e){return function(t){var n=t.id;e.node.name[n]||(e.node.ids.push(n),e.node.name[n]=t.name,e.node.fullName[n]=t.full_name||t.name,e.node.type[n]=t.type,e.node.layer[n]=t.layer,e.node.isParam[n]="parameters"===t.type,e.node.tags[n]=t.tags||[])}}(t)),e.edges.forEach(function(e){return function(t){var n=t.source,a=t.target,r=function(e,t){return[e,t].join("|")}(n,a);e.edge.ids.includes(r)||(e.edge.ids.push(r),e.edge.sources[r]=n,e.edge.targets[r]=a)}}(t)),e.tags&&e.tags.forEach(function(e){return function(t){var n=t.id;e.tag.ids.push(n),e.tag.name[n]=t.name}}(t)),e.layers&&e.layers.forEach(function(e){return function(t){e.layer.ids.push(t),e.layer.name[t]=t}}(t))),t},An={schema_id:"09876543210987654321",layers:["Raw","Intermediate","Primary","Feature","Model Input","Model Output"],tags:[{id:"small",name:"small"},{id:"medium",name:"medium"},{id:"huge",name:"huge"}],nodes:[{id:"task/salmon",name:"salmon",full_name:"salmon",tags:["small"],layer:"Intermediate",type:"task"},{id:"task/shark",name:"shark",full_name:"shark",tags:["medium","huge"],layer:"Intermediate",type:"task"},{id:"task/trout",name:"trout",full_name:"trout",tags:["small"],layer:"Model Input",type:"task"},{id:"data/whale",name:"whale",full_name:"whale",tags:["huge"],layer:"Model Output",type:"data"},{id:"data/dog",name:"dog",full_name:"dog",tags:["small","medium"],layer:"Raw",type:"data"},{id:"data/cat",name:"cat",full_name:"cat",tags:["small","medium","huge"],layer:"Raw",type:"data"},{id:"data/parameters_rabbit",name:"parameters_rabbit",full_name:"parameters_rabbit",tags:["small"],layer:"Intermediate",type:"parameters"},{id:"data/parameters",name:"parameters",full_name:"parameters",tags:[],layer:"Intermediate",type:"parameters"},{id:"data/sheep",name:"sheep",full_name:"sheep",tags:["medium"],layer:"Primary",type:"data"},{id:"data/horse",name:"horse",full_name:"horse",tags:["huge"],layer:"Model Output",type:"data"},{id:"data/weasel",name:"weasel",full_name:"weasel",tags:["small"],layer:"Raw",type:"data"},{id:"data/elephant",name:"elephant",full_name:"elephant",tags:["huge"],layer:"Raw",type:"data"},{id:"data/bear",name:"bear",full_name:"bear",tags:["huge"],layer:"Raw",type:"data"},{id:"data/giraffe",name:"giraffe",full_name:"giraffe",tags:["huge"],layer:"Model Output",type:"data"},{id:"data/pig",name:"pig",full_name:"pig",tags:["medium"],layer:"Feature",type:"data"}],edges:[{target:"task/salmon",source:"data/cat"},{target:"task/salmon",source:"data/dog"},{target:"task/salmon",source:"data/parameters"},{target:"task/salmon",source:"data/parameters_rabbit"},{target:"data/pig",source:"task/salmon"},{target:"data/horse",source:"task/salmon"},{target:"data/sheep",source:"task/salmon"},{target:"task/shark",source:"data/cat"},{target:"task/shark",source:"data/weasel"},{target:"task/shark",source:"data/elephant"},{target:"task/shark",source:"data/bear"},{target:"data/sheep",source:"task/shark"},{target:"data/pig",source:"task/shark"},{target:"data/giraffe",source:"task/shark"},{target:"task/trout",source:"data/pig"},{target:"data/whale",source:"task/trout"}]},Bn={schema_id:"12345678901234567890",layers:["Raw","Intermediate","Primary","Feature","Model Input","Models","Model Output","Reporting"],edges:[{source:"33920f3a",target:"06c33e94"},{source:"06c33e94",target:"105160a0"},{source:"814ef273",target:"0b7e1ac6"},{source:"0b7e1ac6",target:"389b5286"},{source:"58450007",target:"22ea294c"},{source:"22ea294c",target:"bcb40508"},{source:"105160a0",target:"f1a163c4"},{source:"f1a163c4",target:"e44a096d"},{source:"389b5286",target:"b2f97396"},{source:"b2f97396",target:"8c1dcc36"},{source:"bcb40508",target:"27bb9dc7"},{source:"27bb9dc7",target:"13a964bf"},{source:"842a3580",target:"fb5bd01d"},{source:"e44a096d",target:"fb5bd01d"},{source:"8c1dcc36",target:"fb5bd01d"},{source:"13a964bf",target:"fb5bd01d"},{source:"fb5bd01d",target:"55bd1af4"},{source:"842a3580",target:"d52422da"},{source:"e44a096d",target:"d52422da"},{source:"8c1dcc36",target:"d52422da"},{source:"13a964bf",target:"d52422da"},{source:"d52422da",target:"442c2c34"},{source:"181c2b7c",target:"dcbb9652"},{source:"057ade39",target:"dcbb9652"},{source:"dcbb9652",target:"7eb64be0"},{source:"181c2b7c",target:"c4cff5d0"},{source:"42e79d42",target:"c4cff5d0"},{source:"c4cff5d0",target:"842a3580"},{source:"7eb64be0",target:"95cfc42d"},{source:"1b3afcba",target:"95cfc42d"},{source:"55bd1af4",target:"95cfc42d"},{source:"95cfc42d",target:"8770a38e"},{source:"95cfc42d",target:"1dafa5fb"},{source:"442c2c34",target:"ccbee9c5"},{source:"3a60b3a4",target:"ccbee9c5"},{source:"ccbee9c5",target:"fb4f64bd"},{source:"ccbee9c5",target:"f4f3a276"},{source:"1dafa5fb",target:"394244dd"},{source:"55bd1af4",target:"394244dd"},{source:"394244dd",target:"792a14f6"},{source:"f4f3a276",target:"67257e84"},{source:"442c2c34",target:"67257e84"},{source:"67257e84",target:"9bd2dc3d"},{source:"1dafa5fb",target:"f6f50e64"},{source:"dff067eb",target:"f6f50e64"},{source:"55bd1af4",target:"f6f50e64"},{source:"f6f50e64",target:"92f58611"},{source:"dff067eb",target:"e061482b"},{source:"f4f3a276",target:"e061482b"},{source:"442c2c34",target:"e061482b"},{source:"e061482b",target:"b2a3a8e5"},{source:"792a14f6",target:"53b05b01"},{source:"8770a38e",target:"53b05b01"},{source:"fb4f64bd",target:"6d8d326d"},{source:"9bd2dc3d",target:"6d8d326d"},{source:"dff067eb",target:"45bda5fd"},{source:"9aeb6881",target:"45bda5fd"},{source:"92f58611",target:"45bda5fd"},{source:"45bda5fd",target:"90713d4f"},{source:"dff067eb",target:"211c92c3"},{source:"92f58611",target:"211c92c3"},{source:"211c92c3",target:"4704ff18"},{source:"dff067eb",target:"c17b9614"},{source:"4704ff18",target:"c17b9614"},{source:"c17b9614",target:"ccd3d45b"},{source:"90713d4f",target:"90461ea7"},{source:"ccd3d45b",target:"90461ea7"},{source:"9bd2dc3d",target:"90461ea7"},{source:"792a14f6",target:"90461ea7"},{source:"4704ff18",target:"90461ea7"},{source:"90461ea7",target:"3e3b263a"},{source:"90461ea7",target:"f3e15708"},{source:"90461ea7",target:"83ebce11"},{source:"90461ea7",target:"a72d7024"},{source:"90461ea7",target:"8dbed427"}],nodes:[{full_name:"load_raw_interaction_data",id:"06c33e94",name:"Load Raw Interaction Data",tags:["data_engineering","preprocessing"],layer:"Raw",type:"task"},{full_name:"load_raw_country_data",id:"0b7e1ac6",name:"Load Raw Country Data",tags:["data_engineering","preprocessing"],layer:"Raw",type:"task"},{full_name:"load_raw_shopper_spend_data",id:"22ea294c",name:"Load Raw Shopper Spend Data",tags:["data_engineering","preprocessing"],layer:"Raw",type:"task"},{full_name:"preprocess_intermediate_interaction_data",id:"f1a163c4",name:"Preprocess Intermediate Interaction Data",tags:["data_engineering","preprocessing"],layer:"Intermediate",type:"task"},{full_name:"preprocess_intermediate_country_data",id:"b2f97396",name:"Preprocess Intermediate Country Data",tags:["data_engineering","preprocessing"],layer:"Intermediate",type:"task"},{full_name:"preprocess_intermediate_shopper_spend_data",id:"27bb9dc7",name:"Preprocess Intermediate Shopper Spend Data",tags:["data_engineering","preprocessing"],layer:"Intermediate",type:"task"},{full_name:"create_shopper_spend_features",id:"fb5bd01d",name:"Create Shopper Spend Features",tags:["feature_engineering","data_engineering"],layer:"Feature",type:"task"},{full_name:"create_shopper_churn_features",id:"d52422da",name:"Create Shopper Churn Features",tags:["feature_engineering","data_engineering"],layer:"Feature",type:"task"},{full_name:"prepare_vendor_input",id:"dcbb9652",name:"Prepare Vendor Input",tags:["feature_engineering","data_engineering"],layer:"Intermediate",type:"task"},{full_name:"prepare_crm_input",id:"c4cff5d0",name:"Prepare CRM Input",tags:["feature_engineering","data_engineering"],layer:"Intermediate",type:"task"},{full_name:"predictive_sales_model",id:"95cfc42d",name:"Predictive Sales Model",tags:["model_training","data_science"],layer:"Model Input",type:"task"},{full_name:"predictive_engagement_model",id:"ccbee9c5",name:"Predictive Engagement Model",tags:["model_training","data_science"],layer:"Model Input",type:"task"},{full_name:"sales_model_explainable_ai",id:"394244dd",name:"Sales Model Explainable AI",tags:["model_explaination","data_science"],layer:"Model Input",type:"task"},{full_name:"engagement_model_explainable_ai",id:"67257e84",name:"Engagement Model Explainable AI",tags:["model_explaination","data_science"],layer:"Models",type:"task"},{full_name:"perform_digital_analysis",id:"f6f50e64",name:"Perform Digital Analysis",tags:["model_training","data_science"],layer:"Model Input",type:"task"},{full_name:"engagement_recommendation_engine",id:"e061482b",name:"Engagement Recommendation Engine",tags:["model_training","data_science"],layer:"Models",type:"task"},{full_name:"sales_model_performance_monitoring",id:"53b05b01",name:"Sales Model Performance Monitoring",tags:["model_performance_monitoring","data_science"],layer:"Reporting",type:"task"},{full_name:"engagement_model_performance_monitoring",id:"6d8d326d",name:"Engagement Model Performance Monitoring",tags:["model_performance_monitoring","data_science"],layer:"Reporting",type:"task"},{full_name:"multi-channel_optimisation",id:"45bda5fd",name:"Multi-Channel Optimisation",tags:["optimisation","data_science"],layer:"Models",type:"task"},{full_name:"content_optimisation",id:"211c92c3",name:"Content Optimisation",tags:["optimisation","data_science"],layer:"Models",type:"task"},{full_name:"segment_journeys",id:"c17b9614",name:"Segment Journeys",tags:["optimisation","data_science"],layer:"Model Output",type:"task"},{full_name:"generate_dashboard_inputs",id:"90461ea7",name:"Generate Dashboard Inputs",tags:["reporting","data_science"],layer:"Reporting",type:"task"},{full_name:"interaction_raw",id:"33920f3a",name:"Interaction Raw",tags:["data_engineering","preprocessing"],layer:"Raw",type:"data"},{full_name:"interaction_intermediate",id:"105160a0",name:"Interaction Intermediate",tags:["data_engineering","preprocessing"],layer:"Intermediate",type:"data"},{full_name:"country_raw",id:"814ef273",name:"Country Raw",tags:["data_engineering","preprocessing"],layer:"Raw",type:"data"},{full_name:"country_intermediate",id:"389b5286",name:"Country Intermediate",tags:["data_engineering","preprocessing"],layer:"Intermediate",type:"data"},{full_name:"shopper_spend_raw",id:"58450007",name:"Shopper Spend Raw",tags:["data_engineering","preprocessing"],layer:"Raw",type:"data"},{full_name:"shopper_spend_intermediate",id:"bcb40508",name:"Shopper Spend Intermediate",tags:["data_engineering","preprocessing"],layer:"Intermediate",type:"data"},{full_name:"interaction_primary",id:"e44a096d",name:"Interaction Primary",tags:["feature_engineering","data_engineering","preprocessing"],layer:"Primary",type:"data"},{full_name:"country_primary",id:"8c1dcc36",name:"Country Primary",tags:["feature_engineering","data_engineering","preprocessing"],layer:"Primary",type:"data"},{full_name:"shopper_spend_primary",id:"13a964bf",name:"Shopper Spend Primary",tags:["feature_engineering","data_engineering","preprocessing"],layer:"Primary",type:"data"},{full_name:"crm_predictions",id:"842a3580",name:"CRM Predictions",tags:["feature_engineering","data_engineering"],layer:"Primary",type:"data"},{full_name:"shopper_spend_features",id:"55bd1af4",name:"Shopper Spend Features",tags:["data_science","model_training","model_explaination","feature_engineering","data_engineering"],layer:"Feature",type:"data"},{full_name:"shopper_churn_features",id:"442c2c34",name:"Shopper Churn Features",tags:["data_science","model_training","model_explaination","feature_engineering","data_engineering"],layer:"Feature",type:"data"},{full_name:"vendor_master",id:"181c2b7c",name:"Vendor Master",tags:["feature_engineering","data_engineering"],layer:"Raw",type:"data"},{full_name:"salesforce_crm",id:"057ade39",name:"Salesforce CRM",tags:["feature_engineering","data_engineering"],layer:"Raw",type:"data"},{full_name:"vendor_predictions",id:"7eb64be0",name:"Vendor Predictions",tags:["feature_engineering","data_engineering","data_science","model_training"],layer:"Primary",type:"data"},{full_name:"salesforce_accounts",id:"42e79d42",name:"Salesforce Accounts",tags:["feature_engineering","data_engineering"],layer:"Raw",type:"data"},{full_name:"params:_sales_model",id:"1b3afcba",name:"params: Sales Model",tags:["data_science","model_training"],layer:"Model Input",type:"parameters"},{full_name:"sales_validation_results",id:"8770a38e",name:"Sales Validation Results",tags:["model_performance_monitoring","data_science","model_training"],layer:"Model Output",type:"data"},{full_name:"sales_trained_model",id:"1dafa5fb",name:"Sales Trained Model",tags:["model_explaination","data_science","model_training"],layer:"Model Input",type:"data"},{full_name:"params:_engagement_model",id:"3a60b3a4",name:"params: Engagement Model",tags:["data_science","model_training"],layer:"Model Input",type:"parameters"},{full_name:"engagement_validation_results",id:"fb4f64bd",name:"Engagement Validation Results",tags:["model_performance_monitoring","data_science","model_training"],layer:"Model Output",type:"data"},{full_name:"engagement_trained_model",id:"f4f3a276",name:"Engagement Trained Model",tags:["model_explaination","data_science","model_training"],layer:"Models",type:"data"},{full_name:"sales_model_explanations",id:"792a14f6",name:"Sales Model Explanations",tags:["model_explaination","data_science","model_performance_monitoring","reporting"],layer:"Model Output",type:"data"},{full_name:"engagement_model_explanations",id:"9bd2dc3d",name:"Engagement Model Explanations",tags:["model_explaination","data_science","model_performance_monitoring","reporting"],layer:"Model Output",type:"data"},{full_name:"params:_optimisation",id:"dff067eb",name:"params: Optimisation",tags:["data_science","model_training","optimisation"],layer:"Model Input",type:"parameters"},{full_name:"digital_analysis",id:"92f58611",name:"Digital Analysis",tags:["data_science","model_training","optimisation"],layer:"Model Input",type:"data"},{full_name:"engagement_recommendations",id:"b2a3a8e5",name:"Engagement Recommendations",tags:["data_science","model_training"],layer:"Model Output",type:"data"},{full_name:"action_cost_table",id:"9aeb6881",name:"Action Cost Table",tags:["data_science","optimisation"],layer:"Raw",type:"data"},{full_name:"multi-channel_resolutions",id:"90713d4f",name:"Multi-Channel Resolutions",tags:["reporting","data_science","optimisation"],layer:"Model Output",type:"data"},{full_name:"content_resolutions",id:"4704ff18",name:"Content Resolutions",tags:["reporting","data_science","optimisation"],layer:"Model Output",type:"data"},{full_name:"segment_journeys_allocations",id:"ccd3d45b",name:"Segment Journeys Allocations",tags:["reporting","data_science","optimisation"],layer:"Model Output",type:"data"},{full_name:"upselling_readiness_dashboard_input",id:"3e3b263a",name:"Upselling Readiness Dashboard Input",tags:["reporting","data_science"],layer:"Reporting",type:"data"},{full_name:"lead_scoring_dashboard_input",id:"f3e15708",name:"Lead Scoring Dashboard Input",tags:["reporting","data_science"],layer:"Reporting",type:"data"},{full_name:"lifetime_value_prediction_dashboard_input",id:"83ebce11",name:"Lifetime Value Prediction Dashboard Input",tags:["reporting","data_science"],layer:"Reporting",type:"data"},{full_name:"digital_sales_dashboard_input",id:"a72d7024",name:"Digital Sales Dashboard Input",tags:["reporting","data_science"],layer:"Reporting",type:"data"},{full_name:"vendor_sales_dashboard_input",id:"8dbed427",name:"Vendor Sales Dashboard Input",tags:["reporting","data_science"],layer:"Reporting",type:"data"}],tags:[{id:"model_performance_monitoring",name:"Model Performance Monitoring"},{id:"data_science",name:"Data Science"},{id:"reporting",name:"Reporting"},{id:"model_training",name:"Model Training"},{id:"preprocessing",name:"Preprocessing"},{id:"optimisation",name:"Optimisation"},{id:"model_explaination",name:"Model Explaination"},{id:"feature_engineering",name:"Feature Engineering"},{id:"data_engineering",name:"Data Engineering"}]},Pn={isDefined:function(e){return Pn.names().includes(e)},names:function(){return Object.keys(q)},defaults:function(){return Pn.names().reduce((function(e,t){return Object.assign(e,Object(p.a)({},t,q[t].default))}),{})}},Gn=function(e){var t,n={};try{t=new URL(e||document.location.href).searchParams}catch(a){return console.warn("Feature flags are not supported in this browser"),n}return Object(Je.a)(t).forEach((function(e){var t=Object(Yt.a)(e,2),a=t[0],r=t[1];return Pn.isDefined(a)?n[a]="true"===r||"1"===r||""===r:null})),n},Fn=function(e){switch(e){case"animals":return An;case"demo":return Bn;case"json":return null;case"random":throw new Error("The random data should already have replaced the 'random' string in 'data-source.js', so if you see this error then something has gone horribly wrong.");case null:case void 0:throw new Error("No data was provided to App component via props");default:return e}},Hn=function(){return{id:null,node:{ids:[],name:{},fullName:{},type:{},isParam:{},tags:{},layer:{},disabled:{},clicked:null,hovered:null},nodeType:{ids:["task","data","parameters"],name:{data:"Datasets",task:"Nodes",parameters:"Parameters"},disabled:{}},edge:{ids:[],sources:{},targets:{}},layer:{ids:[],name:{}},tag:{ids:[],name:{},active:{},enabled:{}}}},Un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=zn(Fn(e.data)),n=K(),a=n.textLabels,r=void 0===a||a,i=n.nodeTypeDisabled,o=e.theme||n.theme||"dark",l=Object.assign({labelBtn:!0,layerBtn:!0,layers:Boolean(t.layer.ids.length),exportBtn:!0,exportModal:!1,sidebar:!0,themeBtn:!0},n.visible,e.visible),s=Object($.a)({},Pn.defaults(),{},n.flags,{},Gn());return i&&(t.nodeType.disabled=i),Object($.a)({},t,{chartSize:{},fontLoaded:!1,textLabels:r,visible:l,theme:o,flags:s})},Vn=n(201),Wn=function(){var e="/public".concat(U.substr(1));return Object(Vn.a)(U).catch((function(){throw new Error("Unable to load pipeline data from ".concat(U,". If you're running Kedro-Viz as a standalone (e.g. for JavaScript development), please check that you have placed a data file at ").concat(e,"."))}))},qn=(n(460),n(461),function(e){function t(e){var n;Object(l.a)(this,t),n=Object(c.a)(this,Object(u.a)(t).call(this,e));var a=Un(e);return n.store=function(e){var t=Object(g.c)(H,e);return t.subscribe((function(){var e=t.getState(),n=e.textLabels,a=e.theme,r=e.nodeType,i=e.visible,o=e.flags;Y({textLabels:n,theme:a,nodeTypeDisabled:r.disabled,visible:i,flags:o})})),t}(a),n.announceFlags(a.flags),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.asyncLoadJsonData(),this.checkWebFontLoading()}},{key:"componentDidUpdate",value:function(e){e.data.schema_id!==this.props.data.schema_id&&this.updatePipelineData()}},{key:"announceFlags",value:function(e){var t=function(e){var t=Pn.names();if(t.length>0){var n="Experimental features \ud83c\udfc4\u200d\u2642\ufe0f\n";return t.forEach((function(t){var a=e[t],r=a?"Enabled":"Disabled",i=a?"\ud83d\udfe2":"\u26aa\ufe0f",o=q[t].icon,l=q[t].description;n+="\n".concat(i," ").concat(o,' "').concat(t,'" \xb7 ').concat(l," \xb7 ").concat(r)})),n+="\n\nSee docs on flags for more info \ud83d\udcd6",n+="\nhttps://github.com/quantumblacklabs/kedro-viz#flags"}}(e);t&&"undefined"===typeof jest&&console.info(t)}},{key:"asyncLoadJsonData",value:function(){var e=this;"json"===this.props.data&&Wn().then(zn).then((function(t){e.store.dispatch(j(t))}))}},{key:"checkWebFontLoading",value:function(){var e=this;J().then((function(){e.store.dispatch({type:z,fontLoaded:!0})}))}},{key:"updatePipelineData",value:function(){var e=zn(this.props.data);this.store.dispatch(j(e))}},{key:"render",value:function(){return this.props.data?r.a.createElement(f.a,{store:this.store},r.a.createElement(In,null)):null}}]),t}(r.a.Component));qn.defaultProps={data:null,theme:null,visible:{}};var Xn=qn,Kn=n(77),Yn=n(197),Jn=n.n(Yn),Zn=(n(462),n(198)),Qn=n.n(Zn),$n=n(199),ea=n.n($n),ta=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={play:!1},"undefined"===typeof jest&&console.info("Konami code is supported"),n.audio=new Audio(Qn.a),n.audio.loop=!0,n.handleKeyDown=n.handleKeyDown.bind(Object(Kn.a)(n)),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){(new Jn.a).listen(this.toggleState.bind(this)),document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){this.toggleAudio(),this.toggleCSS()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown),document.body.classList.remove("easter-theme")}},{key:"handleKeyDown",value:function(e){27===e.keyCode&&this.state.play&&this.setState({play:!1})}},{key:"toggleState",value:function(){this.setState({play:!this.state.play})}},{key:"toggleAudio",value:function(){this.state.play?this.audio.play():this.audio.pause()}},{key:"toggleCSS",value:function(){this.state.play?document.body.classList.add("easter-theme"):document.body.classList.remove("easter-theme")}},{key:"render",value:function(){return this.state.play?r.a.createElement("div",{className:"easter-egg"},r.a.createElement("img",{src:ea.a,alt:"",width:"500",height:"480"})):null}}]),t}(r.a.Component),na=n(200),aa=n.n(na),ra=function(){if("undefined"!==typeof window){var e,t;try{t=(e=new URL(window.location.href)).searchParams.get("seed")}catch(n){return void console.warn("Random data seeding is not supported in this browser")}return t||(t=function(e){for(var t=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(30),e.searchParams.set("seed",t)),"undefined"===typeof jest&&console.info("%cRandom data seed: ".concat(t,"\nTo reuse this layout, visit ").concat(e.toString()),"font-weight: bold"),t}}(),ia=aa()(ra),oa=function(e){return Array.from(Array(e).keys())},la=function(e){return Math.floor(ia()*e)},sa=function(e){return Math.ceil(ia()*e)},ca=function(e,t){return sa(t-e)+e},ua=function(e){return e[la(e.length)]},da="lorem ipsum dolor sit amet consectetur adipiscing elit vestibulum id turpis nunc nulla vitae diam dignissim fermentum elit sit amet viverra libero quisque condimentum pellentesque convallis sed consequat neque ac rhoncus finibus".split(" "),fa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_";return oa(e).map((function(){return ua(da)})).join(t)},ga=["Raw","Intermediate","Primary","Feature","Model Input","Model Output"],pa=function(){function e(){Object(l.a)(this,e),this.rankCount=this.getRankCount(),this.rankLayers=this.getRankLayers(),this.tags=this.generateTags(),this.nodes=this.generateNodes(),this.edges=this.generateEdges(),this.update(),this.finalise()}return Object(s.a)(e,[{key:"getRankCount",value:function(){var e=ca(10,50);return!e%2&&(e+=1),e}},{key:"getRankLayers",value:function(){for(var e=ae(ga,(function(){return 0})),t=0;t<this.rankCount;t++)e[ua(ga)]++;for(var n={},a=0,r=0;a<this.rankCount;a++){for(;e[ga[r]]<1;)r++;n[a]=ga[r],e[ga[r]]--}return n}},{key:"generateTags",value:function(){var e=sa(20);return oa(e).map((function(){return fa(sa(5))})).filter(re)}},{key:"generateNodes",value:function(){for(var e=[],t=0;t<this.rankCount;t++)for(var n=this.getRankNodeCount(t),a=0;a<n;a++){var r=this.createNode(a,t);e.push(r)}return e}},{key:"getRankNodeCount",value:function(){return Math.min(1/ia(),10)}},{key:"getType",value:function(e){return e.rank%2?"task":0===e._sources.length&&ia()<.2?"parameters":"data"}},{key:"createNode",value:function(e,t){var n=this.rankLayers[t];return{id:"".concat(n,"_").concat(t,"_").concat(e),name:null,full_name:null,type:null,rank:t,layer:n,tags:this.getRandomTags(),_sources:[],_targets:[]}}},{key:"getNodeName",value:function(e){var t=fa(sa(10)," ");return"parameters"===e?"Parameters ".concat(t):t}},{key:"getRandomTags",value:function(){return function(e,t){var n=new Array(t),a=e.length,r=new Array(a);if(t>a)return e;for(;t--;){var i=Math.floor(ia()*a);n[t]=e[i in r?r[i]:i],r[i]=--a in r?r[a]:a}return n}(this.tags,sa(this.tags.length))}},{key:"getNodesByRank",value:function(){var e={},t=!0,n=!1,a=void 0;try{for(var r,i=this.nodes[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;e[o.rank]=e[o.rank]||[],e[o.rank].push(o)}}catch(l){n=!0,a=l}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}return e}},{key:"generateEdges",value:function(){for(var e=[],t=ca(100,200),n=this.getNodesByRank(),a=Object.keys(n).map((function(e){return parseFloat(e)})).sort((function(e,t){return e-t})),r=function(e){var t=a[e],r=n[t];return r[la(r.length)]},i=0;i<t;i+=1){var o=la(a.length-1),l=r(o),s=a.length-1-o,c=Math.round(.5/ia()),u=r(o+Math.min(c,s)),d={source:l.id,target:u.id,_sourceNode:l,_targetNode:u};e.push(d),l._targets.push(d),u._sources.push(d)}return e}},{key:"activeNodes",value:function(){var e={},t=function(e){return e._sources.length+e._targets.length},n=!0,a=!1,r=void 0;try{for(var i,o=this.edges[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value;t(l._sourceNode)+t(l._targetNode)>2&&(e[l._sourceNode.id]=l._sourceNode,e[l._targetNode.id]=l._targetNode)}}catch(s){a=!0,r=s}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}return Object.values(e)}},{key:"activeTags",value:function(){return this.nodes.reduce((function(e,t){return t.tags?e.concat(t.tags):e}),[]).filter(re).map((function(e){return{name:e,id:e}}))}},{key:"activeEdges",value:function(){var e=ae(this.nodes.map((function(e){return e.id})),(function(){return!0}));return this.edges.filter((function(t){return e[t.target]&&e[t.source]}))}},{key:"update",value:function(){var e=this,t={},n=!0,a=!1,r=void 0;try{for(var i,o=this.nodes[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){t[i.value.id]=[]}}catch(w){a=!0,r=w}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}var l=!0,s=!1,c=void 0;try{for(var u,d=this.edges[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){var f=u.value;t[f.source].push(f.target)}}catch(w){s=!0,c=w}finally{try{l||null==d.return||d.return()}finally{if(s)throw c}}for(var g=he()(t),p=0;p<g.length;p++){var m=!0,h=!1,y=void 0;try{for(var v,b=function(){var t=v.value,n=e.nodes.find((function(e){return e.id===t}));n.rank=p,n.type=e.getType(n),n.name=e.getNodeName(n.type),n.full_name="".concat(n.layer,"_").concat(n.type,"_").concat(n.rank,"_").concat(n.name).replace(/\s/g,"_")},_=g[p][Symbol.iterator]();!(m=(v=_.next()).done);m=!0)b()}catch(w){h=!0,y=w}finally{try{m||null==_.return||_.return()}finally{if(h)throw y}}}}},{key:"finalise",value:function(){this.nodes=this.activeNodes(),this.tags=this.activeTags(),this.edges=this.activeEdges();var e=!0,t=!1,n=void 0;try{for(var a,r=this.nodes[Symbol.iterator]();!(e=(a=r.next()).done);e=!0){var i=a.value;delete i._sources,delete i._targets}}catch(f){t=!0,n=f}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}var o=!0,l=!1,s=void 0;try{for(var c,u=this.edges[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var d=c.value;delete d._targetNode,delete d._sourceNode}}catch(f){l=!0,s=f}finally{try{o||null==u.return||u.return()}finally{if(l)throw s}}}},{key:"all",value:function(){return{edges:this.edges,nodes:this.nodes,tags:this.tags,layers:ga}}}]),e}(),ma=function(){return(new pa).all()},ha="undefined"!==typeof window,ya=function(){var e,t=ha&&window.location.search.match(/data=(\w+)/),n=Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_DATA_SOURCE,a=ha&&"quantumblacklabs.github.io"===window.location.host;return t?e=encodeURIComponent(t[1]):n?e=n:a&&(e="demo"),function(e){var t=["animals","demo","json","random"];if(t.includes(e))return"random"===e?ma():e;if(e)throw new Error("Unexpected data source value '".concat(e,"'. Your input should be one of the following values: ").concat(t.join(", "),"."));return"json"}(e)};n(471);o.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(Xn,{data:ya()}),r.a.createElement(ta,null)),document.getElementById("root"))}},[[202,1,2]]]);
//# sourceMappingURL=main.86bda349.chunk.js.map